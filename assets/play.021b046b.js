import{v as d,p as w}from"./populate-versions.6b236a56.js";function f(e){return Object.keys(d).includes(e)}function y(){const e=Object.entries(d).find(([t,{default:n}])=>{if(n)return!0});return e==null?void 0:e[0]}function g(e){return`https://cdn.jsdelivr.net/npm/rrweb-player@${e}/dist/index.js`}function v(e){return`https://cdn.jsdelivr.net/npm/rrweb-player@${e}/dist/style.css`}function b(e){w(e),document.getElementById("versions").addEventListener("change",t=>{const n=t.target.value,r=new URL(document.location);r.searchParams.set("version",n),document.location.href=r.href})}function j(e,t){const n=new rrwebPlayer({target:document.getElementById("player"),data:{events:e,skipInactive:!0,showDebug:!0,showWarning:!0,autoPlay:t.autoPlay,useVirtualDom:t.useVirtualDom,UNSAFE_replayCanvas:t.canvas,mouseTail:{strokeStyle:"yellow"}}});window.$c=n,window.events=e,document.querySelector(".loading").style.display="none",n.addEventListener("finish",()=>console.log("finish"))}function E(e){const t=document.getElementById("jsoneditor"),n={mode:"view"};new JSONEditor(t,n,e),window.events=events}function R(e){const t=/gist.github(?:usercontent)?.com\/[^/]+\/(\w+)/.exec(e);return(t==null?void 0:t[1])||!1}function q(e){const t=/https?:\/\/jsonblob.com\/([\w\-]+)/.exec(e);return(t==null?void 0:t[1])||!1}async function P(){const e=new URL(document.location),t=e.searchParams.get("url");let n=e.searchParams.get("version");f(n)||(n=y());const r=Boolean(e.searchParams.get("canvas")),h=Boolean(e.searchParams.get("play")),m=Boolean(e.searchParams.get("virtual-dom"));let o;const l=R(t),u=q(t);if(l)try{const p=await(await fetch(`https://api.github.com/gists/${l}`)).json(),i=Object.values(p.files);i[0].truncated?o=await(await fetch(i[0].raw_url)).json():o=JSON.parse(i[0].content)}catch(s){alert("something went wrong, please check the console"),console.error(s)}else if(u)try{o=await(await fetch(`https://jsonblob.com/api/v1/get/${u}`)).json()}catch(s){alert("something went wrong, please check the console"),console.error(s)}else try{o=await(await fetch(t)).json()}catch(s){alert("something went wrong, please check the console"),console.error(s)}const a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href",v(n)),document.head.appendChild(a);const c=document.createElement("script");c.setAttribute("src",g(n)),c.addEventListener("load",function(){j(o,{canvas:r,autoPlay:h,useVirtualDom:m}),E(o)}),b(n),document.head.appendChild(c),document.querySelector("a.json").setAttribute("href",t),document.querySelector("a.json").innerText=t}document.onload=P();
