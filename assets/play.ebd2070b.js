import{v as u}from"./versions.e515c0a2.js";function d(e){return Object.keys(u).includes(e)}function h(){const e=Object.entries(u).find(([t,{default:n}])=>{if(n)return!0});return e==null?void 0:e[0]}function m(e){return d(e)||(e=h()),`https://cdn.jsdelivr.net/npm/rrweb-player@${e}/dist/index.js`}function y(e){return d(e)||(e=h()),`https://cdn.jsdelivr.net/npm/rrweb-player@${e}/dist/style.css`}function g(e,t){const n=new rrwebPlayer({target:document.getElementById("player"),data:{events:e,skipInactive:!0,showDebug:!0,showWarning:!0,autoPlay:t.autoPlay,UNSAFE_replayCanvas:t.canvas,mouseTail:{strokeStyle:"yellow"}}});window.$c=n,window.events=e,document.querySelector(".loading").style.display="none",n.addEventListener("finish",()=>console.log("finish"))}function b(e){const t=document.getElementById("jsoneditor"),n={mode:"view"};new JSONEditor(t,n,e),window.events=events}function v(e){const t=/gist.github(?:usercontent)?.com\/[^/]+\/(\w+)/.exec(e);return(t==null?void 0:t[1])||!1}function j(e){const t=/https?:\/\/jsonblob.com\/([\w\-]+)/.exec(e);return(t==null?void 0:t[1])||!1}async function q(){const e=new URL(document.location),t=e.searchParams.get("url"),n=e.searchParams.get("version"),p=Boolean(e.searchParams.get("canvas")),w=Boolean(e.searchParams.get("play"));let o;const i=v(t),l=j(t);if(i)try{const f=await(await fetch(`https://api.github.com/gists/${i}`)).json(),a=Object.values(f.files);a[0].truncated?o=await(await fetch(a[0].raw_url)).json():o=JSON.parse(a[0].content)}catch(s){alert("something went wrong, please check the console"),console.error(s)}else if(l)try{o=await(await fetch(`https://jsonblob.com/api/v1/get/${l}`)).json()}catch(s){alert("something went wrong, please check the console"),console.error(s)}else try{o=await(await fetch(t)).json()}catch(s){alert("something went wrong, please check the console"),console.error(s)}const r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.setAttribute("href",y(n)),document.head.appendChild(r);const c=document.createElement("script");c.setAttribute("src",m(n)),c.addEventListener("load",function(){g(o,{canvas:p,autoPlay:w}),b(o)}),document.head.appendChild(c),document.querySelector("a.json").setAttribute("href",t),document.querySelector("a.json").innerText=t}document.onload=q();
